(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(38)},18:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),i=n.n(o),u=(n(18),n(2)),c=n(3),l=n.n(c),m="https://sleepy-taiga-19012.herokuapp.com/api/persons",d=function(){return l.a.get(m)},s=function(e){return l.a.post(m,e)},f=function(e,t){return l.a.put("".concat(m,"/").concat(e),t)},p=function(e){return l.a.delete("".concat(m,"/").concat(e))},g=function(e){var t=e.message,n=e.color,a={};return"green"===n&&(a={color:"green",borderColor:"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10}),"red"===n&&(a={color:"red",borderColor:"red",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10}),null===t?null:r.a.createElement("div",{style:a},t)},h=function(e){var t=e.limit,n=e.handleLimitChange;return r.a.createElement("div",null,"rajaa n\xe4ytett\xe4vi\xe4 ",r.a.createElement("input",{value:t,onChange:n}))},b=function(e){var t=e.addPerson,n=e.newName,a=e.handleNameChange,o=e.newNumber,i=e.handleNumberChange;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,"nimi: ",r.a.createElement("input",{value:n,onChange:a})),r.a.createElement("div",null,"numero: ",r.a.createElement("input",{value:o,onChange:i})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},v=function(e){var t=e.person;return r.a.createElement("div",null,r.a.createElement("p",{key:t.name},t.name," ",t.number))},E=function(e){var t=e.handleClick,n=e.text;return r.a.createElement("button",{onClick:t},n)},w=function(e){var t=e.persons,n=e.limit,a=e.callServer;return t.filter(function(e){return e.name.toUpperCase().startsWith(n.toUpperCase())}).map(function(e){return r.a.createElement("div",{key:e.name},r.a.createElement(v,{key:e.name,person:e}),r.a.createElement(E,{handleClick:function(){return function(e){window.confirm("Poistetaanko ".concat(e.name,"?"))&&a("delete",e)}(e)},text:"poista"}))})},k=function(){Object(a.useEffect)(function(){return D("get")},[]);var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(""),c=Object(u.a)(i,2),l=c[0],m=c[1],v=Object(a.useState)(""),E=Object(u.a)(v,2),k=E[0],j=E[1],C=Object(a.useState)(""),y=Object(u.a)(C,2),O=y[0],S=y[1],N=Object(a.useState)(""),P=Object(u.a)(N,2),B=P[0],x=P[1],L=Object(a.useState)(""),W=Object(u.a)(L,2),z=W[0],J=W[1],R=function(e){return e.name===O},U=function(e,t){"get"===e&&(m("Numerot ladattin onnistuneesti"),j("green")),"post"===e&&(m("Lis\xe4ttiin ".concat(O)),j("green")),"put"===e&&(m("Muokattiin henkil\xf6\xe4 ".concat(O)),j("green")),"delete"===e&&(m("Poistettiin ".concat(t.name)),j("green")),"error"===e&&(m("Henkil\xf6 ".concat(O," on jo poistettu")),j("red")),setTimeout(function(){m(null)},3e3)},D=function(e,t){if("get"===e&&d().then(function(e){U("get"),o(e.data)}),"post"===e&&s({name:O,number:B}).then(function(e){U("post"),o(n.concat(e.data))}),"put"===e){var a=n.find(R);a.number=B,f(a.id,a).then(function(e){U("put"),o(n.map(function(t){return t.id!==a.id?t:e.data}))}).catch(function(){U("error"),o(n.filter(function(e){return e.id!==a.id}))})}"delete"===e&&p(t.id).then(function(){U("delete",t),o(n.filter(function(e){return e.id!==t.id}))})};return r.a.createElement("div",null,r.a.createElement("h2",null,"Puhelinluettelo"),r.a.createElement(g,{message:l,color:k}),r.a.createElement(h,{limit:z,handleLimitChange:function(e){return J(e.target.value)}}),r.a.createElement("h3",null,"lis\xe4\xe4 uusi"),r.a.createElement(b,{addPerson:function(e){if(e.preventDefault(),""!==O)if(void 0===n.find(R))D("post");else if(""!==B){var t=n.find(R);""!==t.number?window.confirm("".concat(t.name," on jo luettelossa, korvataanko vanha numero uudella?"))&&D("put"):D("put")}else window.alert("".concat(O," on jo luettelossa"));else window.alert("nimi-kentt\xe4 on tyhj\xe4");S(""),x("")},newName:O,handleNameChange:function(e){return S(e.target.value)},newNumber:B,handleNumberChange:function(e){return x(e.target.value)}}),r.a.createElement("h3",null,"Numerot"),r.a.createElement(w,{persons:n,limit:z,callServer:D}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[12,1,2]]]);
//# sourceMappingURL=main.98617c8f.chunk.js.map